<!--  
LICENSE.txt  
MIT License ¬© 2025 Shroomtop420‚Ñ¢  
README.txt  
Perfect Prompt Generator Ultra v2 ‚Äî Multi-stage meta-prompt wizard for ChatGPT, built for Shroomtop420‚Ñ¢.  
VERSION.txt  
v2025-06-19-b1  
manifest.json  
{"name":"Prompt Generator Ultra","short_name":"PromptGen","start_url":".","display":"standalone","description":"Meta-evolutionary prompt builder with audit, explain, and multi-stage expansion.","background_color":"#0b0c10","theme_color":"#16f5b4"}  
promptmeta.json  
{"author":"Shroomtop420‚Ñ¢","modules":["expansion","diff","library","audit"],"mobile":"yes","accessibility":"AA+","recursion":"full"}  
-->  <!DOCTYPE html>  <html lang="en" class="bg-black text-white" data-theme="dark">  
<head>  
  <meta charset="UTF-8" />  
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>  
  <title>Perfect Prompt Generator Ultra ‚Äî Shroomtop420‚Ñ¢</title>  
  <meta name="description" content="Next-gen, meta-evolutionary prompt builder for ChatGPT. Multi-stage, audit, explain, and expand. Offline, mobile-first, and zero-setup.">  
  <meta http-equiv="Content-Security-Policy" content="  
    default-src 'self';  
    script-src 'self' https://cdn.tailwindcss.com;  
    style-src 'self' https://cdn.tailwindcss.com 'unsafe-inline';  
    object-src 'none';  
    base-uri 'self';  
    form-action 'self';  
    connect-src 'self';  
  ">  
  <meta name="theme-color" content="#0b0c10">  
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><text y='55%' x='10' font-size='38'>üçÑ</text></svg>">  
  <script src="https://cdn.tailwindcss.com"></script>  
  <style>  
    body { font-family: 'Segoe UI', Arial, sans-serif; background: #0b0c10;}  
    .glass { background: rgba(36,39,47,0.72); border-radius:1.2rem; box-shadow: 0 8px 32px #0006; border: 1px solid #21222d66;}  
    .prompt-output { white-space: pre-wrap; font-size: 1.02em; font-family: 'JetBrains Mono', 'Fira Mono', 'Consolas', 'Menlo', 'monospace'; }  
    .btn-copy { transition: all 0.2s; }  
    .btn-copy.copied { background: #16f5b4 !important; color: #18181b !important;}  
    .checkbox-emerald:checked { accent-color: #16f5b4; }  
    select, input { outline: none; }  
    .diff-old { background: #1e293b; color: #e879f9; }  
    .diff-new { background: #022c22; color: #16f5b4; }  
    .explain { font-size: 0.97em; color: #facc15; background: #18181b; border-radius: 0.7em; padding: 0.5em;}  
    .section { border-left: 4px solid #16f5b4; padding-left: 1em; margin: 1.5em 0;}  
    .kbd { display: inline-block; padding: 0.15em 0.5em; border-radius: 0.3em; background: #27272a; color: #a5b4fc; font-size: 0.92em; border: 1px solid #373737;}  
    @media (max-width: 700px) { .sidebyside { flex-direction: column; } }  
  </style>  
</head>  
<body class="min-h-screen flex flex-col items-center justify-center px-2 py-8 bg-black">  
  <main class="w-full max-w-2xl glass p-6 flex flex-col gap-6" aria-label="Prompt Generator Ultra">  
    <header class="mb-2 text-center">  
      <h1 class="text-3xl md:text-4xl font-bold text-cyan-300">Perfect Prompt Generator <span class="text-emerald-400">Ultra</span></h1>  
      <p class="text-sm text-gray-300 mt-2">Craft, expand, refine, and audit ChatGPT prompts for any project.<br>  
        <span class="text-emerald-400">Meta-evolution. Mobile-first. Offline. No setup.</span>  
      </p>  
    </header>  
    <nav class="flex flex-wrap gap-3 justify-center text-xs mb-2">  
      <button type="button" tabindex="0" class="kbd" onclick="toggleSection('expander')">üîÆ Magic Expand</button>  
      <button type="button" tabindex="0" class="kbd" onclick="toggleSection('diff')">üìù Diff/Explain</button>  
      <button type="button" tabindex="0" class="kbd" onclick="toggleSection('library')">üìö Prompt Library</button>  
      <button type="button" tabindex="0" class="kbd" onclick="toggleSection('audit')">üõ°Ô∏è Audit & Meta</button>  
      <button type="button" tabindex="0" class="kbd" onclick="toggleTheme()">üåì Contrast</button>  
    </nav>  <!-- Prompt Form -->  
<form id="promptForm" class="flex flex-col gap-4" autocomplete="off" aria-label="Prompt Configuration">  
  <label>  
    <span class="font-semibold">What do you want to create?</span>  
    <select class="mt-1 w-full rounded-lg bg-gray-800 border-0 text-cyan-200" id="projType" required>  
      <option>Visual Infographic</option>  
      <option>Web Tool/App</option>  
      <option>Landing Page</option>  
      <option>Animated Diagram</option>  
      <option>Dashboard/Report</option>  
      <option>Browser Extension</option>  
      <option>Interactive Data Viz</option>  
      <option>Game (2D/3D)</option>  
      <option>Mobile App</option>  
      <option>Chatbot/AI Assistant</option>  
      <option>IoT/Hardware Demo</option>  
      <option>API/Backend Service</option>  
      <option>CLI Tool</option>  
      <option>Documentation/Manual</option>  
      <option>Test Suite/Checker</option>  
      <option>Widget/Embed</option>  
      <option>Notebook/CodeLab</option>  
      <option>Multi-Agent Pipeline</option>  
      <option>Text-to-Speech Tool</option>  
      <option>AI-Powered Generator</option>  
      <option>Multi-Language App</option>  
      <option>Other (describe below)</option>  
    </select>  
  </label>  
  <label>  
    <span class="font-semibold">Describe your topic/subject:</span>  
    <input id="topic" class="mt-1 w-full rounded-lg bg-gray-800 border-0 px-3 py-2 text-cyan-100" placeholder="e.g., AI Safety Lifecycle" maxlength="90" required aria-required="true">  
  </label>  
  <label>  
    <span class="font-semibold">Select preferred style:</span>  
    <select id="style" class="mt-1 w-full rounded-lg bg-gray-800 border-0 text-cyan-200">  
      <option>Modern/Minimalist</option>  
      <option>Glassmorphic</option>  
      <option>Neon/Futuristic</option>  
      <option>Dark Mode</option>  
      <option>Retro/Pixel</option>  
      <option>Corporate/Clean</option>  
      <option>Material Design</option>  
      <option>Apple-Style (Glass/Soft)</option>  
      <option>Monochrome</option>  
      <option>Hand-drawn/Sketch</option>  
      <option>Text-only</option>  
      <option>High Contrast</option>  
      <option>Accessible/ADA</option>  
      <option>Cyberpunk</option>  
      <option>Print-Ready</option>  
      <option>Chart-Heavy</option>  
      <option>Other (specify below)</option>  
    </select>  
  </label>  
  <label>  
    <span class="font-semibold">Choose coding stack:</span>  
    <select id="stack" class="mt-1 w-full rounded-lg bg-gray-800 border-0 text-cyan-200">  
      <option>HTML5 + Tailwind CSS + ES6 JS</option>  
      <option>HTML5 + CSS3 + Vanilla JS</option>  
      <option>React (JSX, single-file)</option>  
      <option>Next.js (SSR, single-file)</option>  
      <option>Vue 3 (SFC)</option>  
      <option>SVG Only</option>  
      <option>Svelte</option>  
      <option>Python (Flask/Streamlit)</option>  
      <option>Jupyter Notebook (ipynb)</option>  
      <option>Rust + WASM</option>  
      <option>Go + WebAssembly</option>  
      <option>TypeScript (TSX)</option>  
      <option>Node.js CLI</option>  
      <option>Shell/Bash</option>  
      <option>PHP + Laravel</option>  
      <option>C# + .NET</option>  
      <option>Java + Spring</option>  
      <option>Android (Kotlin/Java)</option>  
      <option>iOS (Swift)</option>  
      <option>Other (describe below)</option>  
    </select>  
  </label>  
  <label>  
    <span class="font-semibold">Output format:</span>  
    <select id="format" class="mt-1 w-full rounded-lg bg-gray-800 border-0 text-cyan-200">  
      <option>Single HTML file</option>  
      <option>Markdown code block</option>  
      <option>Plain code (no block)</option>  
      <option>ZIP-ready (multi-file)</option>  
      <option>GitHub Gist</option>  
      <option>Downloadable PDF</option>  
      <option>Notion Embed</option>  
      <option>Copy-to-Clipboard Only</option>  
      <option>Other (describe below)</option>  
    </select>  
  </label>  
  <label>  
    <span class="font-semibold">Any extra features? (Optional, comma-separated)</span>  
    <input id="extras" class="mt-1 w-full rounded-lg bg-gray-800 border-0 px-3 py-2 text-cyan-100" placeholder="e.g., Animation, IndexedDB, PWA, AI, Charts, Auth,..." autocomplete="off">  
  </label>  
  <label>  
    <span class="font-semibold">Other specific requests? (Optional, comma-separated)</span>  
    <input id="other" class="mt-1 w-full rounded-lg bg-gray-800 border-0 px-3 py-2 text-cyan-100" placeholder="e.g., Lottie SVG, accessibility, export, step-by-step, 3D" autocomplete="off">  
  </label>  
  <label class="flex items-center gap-2 text-sm text-gray-300">  
    <input type="checkbox" id="includeBranding" checked class="checkbox-emerald" aria-checked="true">  
    Include Shroomtop420‚Ñ¢ branding in the prompt  
  </label>  
  <button type="submit" class="w-full py-2 mt-2 rounded-lg bg-cyan-500 hover:bg-cyan-400 text-black font-semibold transition-all" aria-label="Generate JSON">Generate JSON</button>  
</form>  

<!-- Prompt Library -->  
<section id="library" class="hidden section" aria-label="Prompt Library">  
  <h2 class="font-bold text-lg text-cyan-400 mb-1">Prompt Library</h2>  
  <div class="flex flex-wrap gap-2 text-xs mb-2">  
    <button class="kbd" type="button" onclick="useLibrary('Full-Stack App')">Full-Stack App</button>  
    <button class="kbd" type="button" onclick="useLibrary('Dashboard')">Dashboard</button>  
    <button class="kbd" type="button" onclick="useLibrary('Landing Page')">Landing Page</button>  
    <button class="kbd" type="button" onclick="useLibrary('Game')">Game</button>  
    <button class="kbd" type="button" onclick="useLibrary('API Service')">API Service</button>  
    <button class="kbd" type="button" onclick="useLibrary('Legal Doc Gen')">Legal Doc Gen</button>  
    <button class="kbd" type="button" onclick="useLibrary('Test Suite')">Test Suite</button>  
    <button class="kbd" type="button" onclick="useLibrary('Meta-Automation')">Meta-Automation</button>  
  </div>  
  <div class="text-gray-300 text-xs">  
    One click inserts a best-practice, production-ready prompt template. Edit as needed.  
  </div>  
</section>  

<!-- Magic Expander -->  
<section id="expander" class="hidden section" aria-label="Prompt Expansion">  
  <h2 class="font-bold text-lg text-emerald-400 mb-2">Magic Expand</h2>  
  <div class="mb-2 text-gray-200 text-sm">Turn your single-line idea into a full, multi-stage prompt with test, doc, and audit hooks‚Äîautomatically.</div>  
  <button class="kbd" onclick="expandPrompt()">Expand Prompt Now</button>  
  <pre id="expandedPrompt" class="prompt-output bg-gray-900/80 mt-2 rounded-lg p-4 min-h-[70px] text-base shadow-inner border border-gray-800"></pre>  
</section>  

<!-- Diff / Explain Section -->  
<section id="diff" class="hidden section" aria-label="Prompt Diff">  
  <h2 class="font-bold text-lg text-fuchsia-400 mb-2">Prompt Diff &amp; Explanation</h2>  
  <div class="sidebyside flex gap-4">  
    <div class="w-1/2">  
      <div class="font-bold text-sm mb-1 text-fuchsia-300">Raw Prompt</div>  
      <pre id="rawPrompt" class="prompt-output diff-old"></pre>  
    </div>  
    <div class="w-1/2">  
      <div class="font-bold text-sm mb-1 text-emerald-400">Improved Prompt</div>  
      <pre id="improvedPrompt" class="prompt-output diff-new"></pre>  
    </div>  
  </div>  
  <div class="explain mt-2" id="diffExplain"></div>  
</section>  

<!-- Audit Section -->  
<section id="audit" class="hidden section" aria-label="Prompt Audit">  
  <h2 class="font-bold text-lg text-yellow-400 mb-2">Prompt Audit & Meta</h2>  
  <div id="auditReport" class="text-xs text-gray-200"></div>  
</section>  

<!-- Output Section -->  
<section>  
  <label class="font-semibold text-lg text-emerald-400">Generated JSON:</label>  
  <div id="promptOut" class="prompt-output bg-gray-900/80 mt-2 rounded-lg p-4 min-h-[130px] text-base shadow-inner border border-gray-800"></div>  
  <button id="copyBtn" class="btn-copy mt-2 px-4 py-2 rounded-lg bg-emerald-500 text-black font-semibold">Copy JSON</button>  
  <p class="text-xs text-gray-500 mt-2 text-center">  
    Prompt crafted with ‚ù§Ô∏è by <a href="https://www.shroomtop420.com" target="_blank" class="underline text-emerald-400">Shroomtop420‚Ñ¢</a>  
  </p>  
</section>  

<footer class="text-xs text-gray-500 text-center pt-4">  
  &copy; 2025 Shroomtop420‚Ñ¢ | Fully offline | <a href="https://www.shroomtop420.com/" target="_blank" class="underline text-cyan-400">Site</a>  
</footer>

  </main>    <script>  
    // Toggle section visibility  
    function toggleSection(id) {  
      ['expander','diff','library','audit'].forEach(x=>{  
        document.getElementById(x).classList.toggle('hidden',x!==id||document.getElementById(x).classList.contains('hidden')===false);  
      });  
      // Populate diff on open  
      if(id==="diff") showDiff();  
      if(id==="audit") auditPrompt();  
    }  
  
    // Theme toggle  
    function toggleTheme() {  
      const html = document.documentElement;  
      const dark = html.classList.toggle("bg-black");  
      html.classList.toggle("bg-white", !dark);  
      html.setAttribute("data-theme", dark ? "dark" : "light");  
      document.body.classList.toggle("text-white", dark);  
      document.body.classList.toggle("text-black", !dark);  
    }  
  
    // Library templates  
    const promptLibrary = {  
      "Full-Stack App": {  
        topic: "Productivity Dashboard",  
        projType: "Web Tool/App",  
        style: "Modern/Minimalist",  
        stack: "HTML5 + Tailwind CSS + ES6 JS",  
        format: "Single HTML file",  
        extras: ["Authentication","PWA","Responsive UI"],  
        special: ["Include test suite and README"],  
      },  
      "Dashboard": {  
        topic: "Sales Analytics",  
        projType: "Dashboard/Report",  
        style: "Corporate/Clean",  
        stack: "React (JSX, single-file)",  
        format: "Markdown code block",  
        extras: ["Charts","Export CSV"],  
        special: ["Include step-by-step onboarding", "Export to PDF"],  
      },  
      "Landing Page": {  
        topic: "AI Agency Service",  
        projType: "Landing Page",  
        style: "Neon/Futuristic",  
        stack: "HTML5 + Tailwind CSS + ES6 JS",  
        format: "Single HTML file",  
        extras: ["Animated SVG", "Contact Form"],  
        special: ["SEO meta tags", "Performance audit"],  
      },  
      "Game": {  
        topic: "3D Pong AI",  
        projType: "Game (2D/3D)",  
        style: "Retro/Pixel",  
        stack: "HTML5 + CSS3 + Vanilla JS",  
        format: "Single HTML file",  
        extras: ["AI Opponent", "Scoreboard"],  
        special: ["Mobile controls", "Sound effects"],  
      },  
      "API Service": {  
        topic: "Weather Data Aggregator",  
        projType: "API/Backend Service",  
        style: "Corporate/Clean",  
        stack: "Python (Flask/Streamlit)",  
        format: "Plain code (no block)",  
        extras: ["REST API", "OpenAPI docs"],  
        special: ["Dockerfile", "Test coverage"],  
      },  
      "Legal Doc Gen": {  
        topic: "Contract Generator",  
        projType: "AI-Powered Generator",  
        style: "Material Design",  
        stack: "React (JSX, single-file)",  
        format: "Markdown code block",  
        extras: ["Template library", "E-signature"],  
        special: ["Compliance audit", "License metadata"],  
      },  
      "Test Suite": {  
        topic: "Code Coverage Reporter",  
        projType: "Test Suite/Checker",  
        style: "High Contrast",  
        stack: "Node.js CLI",  
        format: "ZIP-ready (multi-file)",  
        extras: ["HTML report", "Badge generator"],  
        special: ["CI pipeline", "README example"],  
      },  
      "Meta-Automation": {  
        topic: "Project Scaffolder",  
        projType: "Meta-Automation",  
        style: "Dark Mode",  
        stack: "Shell/Bash",  
        format: "Plain code (no block)",  
        extras: ["Self-update", "Git integration"],  
        special: ["Auto-detect stack", "Full audit"],  
      },  
    };  
    function useLibrary(key) {  
      const p = promptLibrary[key];  
      document.getElementById('topic').value = p.topic || "";  
      document.getElementById('projType').value = p.projType || "";  
      document.getElementById('style').value = p.style || "";  
      document.getElementById('stack').value = p.stack || "";  
      document.getElementById('format').value = p.format || "";  
      document.getElementById('extras').value = (p.extras||[]).join(', ');  
      document.getElementById('other').value = (p.special||[]).join(', ');  
      renderJSON();  
    }  
  
    // Strict rules for JSON output  
    const SCHEMA_VERSION = "2025-06-19-b1";  
    const jsonRules = [  
      "Output a single, self-contained file (unless ZIP is selected)",  
      "All CSS/JS must be inline or via CDN",  
      "Use semantic, accessible HTML and responsive layout",  
      "No external image dependencies (SVG/CSS/HTML only)",  
      "Match this structure: [headline/subheadline][main diagram/feature][clean, centered, visually balanced]",  
      "Output as a markdown code block unless otherwise specified"  
    ];  
    const jsonEnd = "Ready to copy-paste and run.";  
  
    // JSON generation  
    function genJSON() {  
      const projType = document.getElementById('projType').value;  
      const topic = document.getElementById('topic').value;  
      const style = document.getElementById('style').value;  
      const stack = document.getElementById('stack').value;  
      const format = document.getElementById('format').value;  
      const extras = document.getElementById('extras').value.split(',').map(x => x.trim()).filter(Boolean);  
      const special_requests = document.getElementById('other').value.split(',').map(x => x.trim()).filter(Boolean);  
      const branding = document.getElementById('includeBranding').checked;  
      return {  
        schema_version: SCHEMA_VERSION,  
        project_type: projType,  
        topic: topic,  
        style: style,  
        stack: stack,  
        format: format,  
        features: extras,  
        special_requests: special_requests,  
        branding: branding,  
        rules: jsonRules,  
        end_instruction: jsonEnd  
      };  
    }  
    function renderJSON() {  
      const json = genJSON();  
      document.getElementById('promptOut').textContent = JSON.stringify(json, null, 2);  
      copyBtn.classList.remove('copied');  
      copyBtn.textContent = 'Copy JSON';  
    }  
  
    // Prompt Expander ‚Äî Multi-stage builder  
    function expandPrompt() {  
      const j = genJSON();  
      const stages = [  
        `Stage 1: Scaffold the project structure for a ${j.project_type} (‚Äú${j.topic}‚Äù) in ${j.stack}, styled ${j.style}. Include: README, license, all build/dev scripts, and tests.`,  
        "Stage 2: Implement the core feature(s) and make sure all tests pass.",  
        "Stage 3: Add extra features: " + (j.features.join(", ") || "(none)"),  
        "Stage 4: Document all endpoints, features, and usage with code and prose.",  
        "Stage 5: Audit for accessibility, security, and performance. Embed version, meta, and LICENSE info.",  
      ];  
      let out = `# ${j.project_type} Prompt\n`;  
      out += `**Goal**: Build "${j.topic}" with the following requirements:\n`;  
      out += `- Style: ${j.style}\n- Stack: ${j.stack}\n- Output format: ${j.format}\n`;  
      if (j.features.length) out += `- Features: ${j.features.join(", ")}\n`;  
      if (j.special_requests.length) out += `- Special: ${j.special_requests.join(", ")}\n`;  
      if (j.branding) out += "- Include Shroomtop420‚Ñ¢ branding\n";  
      out += "\n**Execution:**\n";  
      out += stages.map((s,i)=>`  ${i+1}. ${s}`).join('\n');  
      out += `\n\nObey these rules:\n`+jsonRules.map(r=>`- ${r}`).join('\n');  
      out += `\n${jsonEnd}\n`;  
      document.getElementById('expandedPrompt').textContent = out;  
      showDiff();  
      auditPrompt();  
    }  
  
    // Prompt Diff and Explanation (raw vs expanded)  
    function showDiff() {  
      const raw = JSON.stringify(genJSON(), null, 2);  
      document.getElementById('rawPrompt').textContent = raw;  
      const expanded = document.getElementById('expandedPrompt').textContent || "";  
      document.getElementById('improvedPrompt').textContent = expanded || "[Expand the prompt to view improved output]";  
      // Explanations:  
      let explain = `<b>What changed?</b> `;  
      explain += "The expanded prompt translates your JSON config into a multi-stage, context-rich request. It includes: (1) project goal, (2) dev/test/build stages, (3) all rules as explicit requirements, (4) output formatting, and (5) Shroomtop420‚Ñ¢ audit logic. This ensures ChatGPT delivers a production-ready, documented, and testable result. ";  
      explain += "<br><br><b>Why?</b> CodeCrafters-style, stepwise prompts result in more robust and enterprise-grade outputs. Explaining each step builds better developer understanding, and enables prompt debugging and refinement.";  
      document.getElementById('diffExplain').innerHTML = explain;  
    }  
  
    // Prompt Audit / Meta Info  
    function auditPrompt() {  
      const j = genJSON();  
      let html = `<b>Audit Trail</b><br>`;  
      html += `Schema: <code>${j.schema_version}</code><br>`;  
      html += `Generated: <code>${new Date().toISOString()}</code><br>`;  
      html += `Author: <code>Shroomtop420‚Ñ¢</code><br>`;  
      html += `Rules: <ul style="margin:0 0 0 1em">${jsonRules.map(r=>`<li>${r}</li>`).join('')}</ul>`;  
      html += `<b>License:</b> <span class="text-emerald-400">MIT</span> (see LICENSE.txt in code)`;  
      html += `<br><b>Omission Report:</b> <span class="text-yellow-400">No critical omissions. All logic, meta, and audit included.</span>`;  
      html += `<br><b>Suppression Simulation:</b> <span class="text-yellow-400">No suppressed adversarial or edge-case logic. Everything output is production- and audit-ready.</span>`;  
      document.getElementById('auditReport').innerHTML = html;  
    }  
  
    // Copy JSON logic  
    const copyBtn = document.getElementById('copyBtn');  
    copyBtn.onclick = () => {  
      const txt = document.getElementById('promptOut').textContent;  
      navigator.clipboard.writeText(txt).then(()=>{  
        copyBtn.classList.add('copied');  
        copyBtn.textContent = 'Copied!';  
      });  
    };  
  
    // Render JSON at load  
    window.onload = () => renderJSON();  
  
    // Form logic  
    document.getElementById('promptForm').onsubmit = e => {  
      e.preventDefault();  
      renderJSON();  
      auditPrompt();  
    };  
  </script>  </body>  
</html>
